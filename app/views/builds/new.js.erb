var jqxhr = $.post(
  '/build/create',
  {
    target_address: '<%= @target_address %>',
    target_port: '<%= @target_port %>',
    operating_system: '<%= @operating_system %>',
    cpu_architecture: '<%= @cpu_architecture %>',
  }
);

jqxhr.done(
  function(buildID) {
    window.location = '/build/' + buildID
  }
);

jqxhr.fail(
  function(x) {
    alert('ERROR: ' + JSON.stringify(x));
  }
);

$( 'div.viewport' ).html(
  '<br/><br/><br/><p class="hint">Please wait while we are building software for you!</p><img src="<%= asset_path("ajax-loader.gif") %>" />'
);
